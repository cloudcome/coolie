!function(){"use strict";function e(e,s){var u,c,f,l={};2===arguments.length?(f=e,l._isAn=!1,l._id=s,l._path=i(s),l._deps=[],l._factory=function(e,n,t){t.exports=f.responseText||"",f=null},n(l),N[l._id]||(N[l._id]=l)):S.length&&(c=e,u=S.shift(),l._isAn=""===u[0],l._id=u[0]||c.id,c=null,l._path=l._isAn?i(l._id):"",l._deps=u[1],l._factory=u[2],n(l),N[l._id]||(N[l._id]=l),l._deps.length&&d(l._deps,function(e,n){var t=n.replace(q,""),i=l._isAn?a(l._path,t):t;if(k[i]&&k[i][l._id])throw"`"+l._id+"` and `"+i+"` make up a circular dependency relationship";l._deps[e]=i,k[l._id][i]=1,q.test(n)?o(i):r(i)})),O===R&&_&&N[_]&&(k=null,t(_))}function n(e){e.exports={},e._exec=function(){var n=function(n){n=n.replace(q,"");var t=e._isAn?a(i(e._id),n):n;if(!N[t])throw"can not found module `"+t+"`, require in `"+e._id+"`";return N[t]._exec()};return function(){return e._factory.call(window,n,e.exports,e),e.exports}}()}function t(e){if(!N[e])throw"can not found module `"+e+"`";console.groupEnd("modules"),N[e]._exec()}function r(n){var t,r,o=Date.now(),i=s(n);return k[n]?(console.warn("repeat ignore",n),!1):(k[n]={},O++,i?(t=document.createElement("script"),r=function(r){r&&r.constructor===Error||(console.log("script",n,Date.now()-o+"ms"),R++,e(t)),T.removeChild(t)},t.id=n,t.async=!0,t.defer=!0,t.src=p(n),t.onload=t.onerror=r,void T.appendChild(t)):setTimeout(function(){console.log("inline",n,"0ms"),R++,e()},1))}function o(n){var t=new XMLHttpRequest,r=Date.now(),o=function(){if(200!==t.status&&304!==t.status)throw"can not ajax "+n+", response status is "+t.status;console.log("ajax",n,Date.now()-r+"ms"),R++,e(t,n)};O++,t.onload=t.onerror=t.onabort=t.ontimeout=o,t.open("GET",n),t.send(null)}function i(e){return e.replace(y,"/")}function s(e){return(e.replace(q,"").replace(A,"").match(x)||[""])[0]}function a(e,n){var t=(e.match(A)||[""])[0],r=s(e),o=s(n),i=0,a=e.replace(A,""),u=n;switch(r||(a="./"+a),"/"!==a.slice(-1)&&(a+="/"),o||(u="./"+u,o="./"),o){case"./":return t+a+u.slice(2);case"../":for(i=u.match(b).length;i-->0;){if(!E.test(a))throw"can not change path from `"+e+"` to `"+n+"`";a=a.replace(E,"")}return t+a+u.replace(b,"");default:return u}}function u(e){var n=[];return e.replace(v,"").replace(g,function(e,t,r){r&&n.push(r)}),n}function c(e){return e&&e instanceof Array}function f(e){return"function"==typeof e}function l(e){return"string"==typeof e}function d(e,n){var t,r;if(c(e))for(t=0,r=e.length;r>t&&n(t,e[t])!==!1;t++);else if("object"==typeof e)for(t in e)if(e.hasOwnProperty(t)&&n(t,e[t])===!1)break}function p(e){return $.version?e+(e.indexOf("?")>-1?"&":"?")+"_="+encodeURIComponent($.version):e}function m(){var e=document.getElementsByTagName("script");return e[e.length-1]}function h(e){return e.dataset?e.dataset.main:e.getAttribute("data-main")}var w,_,g=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,v=/\\\\/g,b=/\.\.\//g,y=/\/([^\/]+)$/,x=/^.*?\//,E=/[^\/]+\/$/,A=/^.*\/\/[^\/]*/,q=/^text!/i,D=m(),T=D.parentNode,j=i(a(i(location.pathname),D.getAttribute("src"))),C=h(D),$={base:j},k={},N={},O=0,R=0,S=[];window.define=function(e,n,t){var r=arguments,o=1===r.length;if(void 0===_&&(_=o?w:e),o)t=r[0],e="";else{if(!l(e))throw new Error("module id must be a string");if(f(r[1])&&(t=r[1],n=[]),!c(n))throw new Error("module dependencies must be an array")}if(!f(t))throw new Error("module factory must be a function");n=o?u(t.toString()):n,S.push([e,n,t])},window.coolie={version:"0.1.0",modules:N,config:function(e){return e=e||{},$.base=e.base?a(j,e.base):j,$.version=e.version,this},use:function(e){if(w)throw new Error("can not  execute `coolie.use` twice more");if(!l($.base))throw new Error("coolie config `base` property must be a string");if(e&&!l(e))throw new Error("main module must be a string");return C&&C!==e&&(e&&console.log("inline main is `"+C+"`, use main is `"+e+"`"),e=C),w=a($.base,e),console.group("modules"),r(w),this}}}();