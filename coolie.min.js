/*!
 * coolie 苦力
 * @author ydr.me
 * @version 0.7.0
 * @license MIT
 */
!function () {
    var e = "0.7.0", n = window, t = n.document, r = function (e, n) {
        return (n || t).getElementsByTagName(e)
    }, o = function (e) {
        return e.hasAttribute ? e.src : e.getAttribute("src", 4)
    }, c = function (e, n) {
        return e.getAttribute("data-" + n)
    }, a = function () {
        var e = r("script", t);
        return e[e.length - 1]
    }, i = a(), u = o(i), l = /https?:\/\/[^/]*/, f = u.match(l)[0], s = c(i, "config"), d = c(i, "main"), g = /\/[^/]+$/, h = function (e) {
        return e = e.replace(l, ""), "/" === e ? e : g.test(e) ? e.replace(g, "/") : e
    }, p = /^\//, m = /^(\.{1,2})\//, v = /\/[^/]+?\/$/, w = function (e, n) {
        if (p.test(n))return n;
        var t;
        for (n = "./" + n; t = n.match(m);)n = n.replace(m, ""), 2 === t[1].length && (e = e.replace(v, "/"));
        return e + n
    }, y = h(u), b = w(y, s), A = f + b, E = (w(y, d), {}), $ = {};
    $.version = e, $.config = function (e) {
        return E = e, $
    }, $.use = function () {
        console.log("coolie use")
    };
    var B = /loaded|complete/, C = t.head || r("head", t)[0], N = null, S = function (e, n) {
        var r = t.createElement("script"), o = function (t) {
            var r = "error" === t.type ? new Error("load script error: " + e) : null;
            n(r)
        };
        r.src = e, r.id = e, r.async = !0, r.defer = !0, r.onload = o, r.onreadystatechange = function (e) {
            B.test(r.readyState) && o(e)
        }, r.onerror = o, N = r, C.appendChild(r), N = null
    };
    S(A, function (e) {
        if (e)throw e;
        console.log("yes")
    });
    var T = function () {
        {
            var e = arguments;
            e.length
        }
    };
    window.coolie = $, window.define = T
}();