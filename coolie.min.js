/**
 * coolie 苦力
 * @author coolie.ydr.me
 * @version 2.0.0-alpha
 * @license MIT
 */
!function(){"use strict";function n(n){return function(e){return{}.toString.call(e)==="[object "+n+"]"}}var e="2.0.0-alpha",t="coolie",r="node_modules",o="js",i="index."+o,u="->",a=window,c=a.document,s=c.head||c.getElementsByTagName("head")[0]||c.documentElement,l=function(){},f=n("Array"),p=n("Function"),d=function(n,e,t){var r,o;if(f(n))for(r=t?n.length-1:0,o=t?0:n.length;(t?r>o:o>r)&&e(r,n[r])!==!1;t?r--:r++);else if("object"==typeof n)for(r in n)e(r,n[r])},v=function(n){var e=!1;return function(){e||(e=!0,n.apply(this,arguments))}},h=function(n,e){var t=new XMLHttpRequest,r=v(function(){var n=null,r=t.responseText;200!==t.status&&304!==t.status&&(n=!0),t.onload=t.onreadystatechange=t.onerror=t.onabort=t.ontimeout=null,t=null,e(n,r)});t.onreadystatechange=function(){4===t.readyState&&r()},t.onload=t.onerror=t.onabort=t.ontimeout=r,t.open("GET",n),t.send(null)},g=function(n){try{return new Function("","return "+n)()}catch(e){return null}},y=function(n,e){h(n,function(t,r){if(t)throw new URIError("JSON 资源加载失败\n"+n);var o=g(r);if(!o)throw new URIError("JSON 资源解析失败\n"+n);e(o)})},b=function(n){setTimeout(function(){n()},1)},k=function(){var n=c.createElement("style");n.setAttribute("type","text/css"),n.setAttribute("id",t+"-"+e+"-style"),s.appendChild(n);var r=n.styleSheet;return function(e){return r?r.cssText+=e:n.innerHTML+=e,n}}(),m=function(n,e){var t=c.createElement("script"),r=function(n){t.onload=t.onerror=t.onreadystatechange=null,s.removeChild(t),t=null,e(n)};return"onload"in t?(t.onload=r,t.onerror=function(){r(!0)}):t.onreadystatechange=function(){/loaded|complete/.test(t.readyState)&&r()},t.async=!0,t.src=n,s.appendChild(t),t},x=function(n,e){return n.getAttribute("data-"+e)},w=function(n){return n.hasAttribute?n.src:n.getAttribute("src",4)},j=function(){var n=c.scripts;return n[n.length-1]},D=/\.js$/i,E=/^(.*:)?\/\//,M=/^\//,T=/^\.{1,2}\//,S=/^.*:/,R=location.href,U=location.protocol,q=U+"//"+location.host,A=/\/\.\//g,L=/\/\.$/g,I=/\\/g,C=/^\//,J=/\/$/,$=/^~\//,F=/[?#].*$/,N=/^(about|blob):/,B=/\//,G=/^(.*):\/\/[^\/]*/,H=function(n){var e=n.match(E);if(!e)return"";var t=e[0];return S.test(t)?t:U+t},O=function(n){var e=n.match(G);return e?e[0]:""},P=function(n){if(!n)return"";$.test(n)&&(n=q+n.slice(1));var e=H(n);n=n.replace(F,"").replace(E,"").replace(I,"/").replace(A,"/").replace(L,"/");var t=n.split(B),r="",o=[],i="..",u="/",a=C.test(n),c=J.test(n);return d(t,function(n,e){e===i&&r&&r!==i?o.pop():o.push(e),n&&(r=o[o.length-1])}),n=o.join(u),a&&!C.test(n)&&(n=u+n),c&&!J.test(n)&&(n+=u),e+n},X=function(n){return E.test(n)},_=function(n){return!X(n)&&M.test(n)},z=function(n){return T.test(n)},K=function(n){return B.test(n)?(n+=J.test(n)?"":"/../",P(n)):n+"/"},Q=function(n,e){if(n=P(n),e=P(e),!e)return n;if(X(e))return e;if(_(e))return O(n)+e;var t=K(n);return P(t+e)},V=function(n){return n=P(n),n?n+(D.test(n)?"":".js"):n},W=function(n){return n=P(n),n?n+(J.test(n)?i:""):n},Y=function(n,e){return n=W(n),e&&(n=V(n)),n},Z=function(n,e,t){return Y(Q(n,e),t)},nn=function(){return N.test(R)?"":K(R)},en=nn(),tn=j(),rn=w(tn)||en,on=K(rn),un=x(tn,"config"),an=x(tn,"main"),cn=un?Q(on,un):null,sn=function(){var n=this;n.d=!1,n.list=[]};sn.prototype={constructor:sn,task:function(n,e){var t=this;e.id=n,t.list.push(e),t.start()},start:function(){var n=this;if(n.d)return n;var e=n.list.shift();e?(n.d=!0,n.last=e,e(function(){n.d=!1,n.start()})):n.d=!1}};var ln=new sn,fn=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,pn=/\\\\/g,dn=/([^"']+)(?:['"]\s*?,\s*?['"]([^'"]*))?/,vn={js:"js",image:"file",file:"file",text:"text",html:"text",json:"json",css:"css"},hn={js:{js:1,d:"js"},file:{url:1,base64:1,d:"url"},text:{text:1,url:2,base64:2,d:"text"},css:{text:1,url:2,base64:2,style:3,d:"text"},json:{js:1,text:2,url:3,base64:3,d:"js"}},gn=function(n,e){var t=hn[n],r=t[e];return r?e:t.d},yn=function(n){var e=[];return n.replace(pn,"").replace(fn,function(n,t,r){if(r){var o=r.match(dn),i=(o[2]?o[2].toLowerCase():"js").split("|"),u=i[0],a=i[1];if(u=vn[u],!u)throw new TypeError("不支持加载该"+u+"类型\n"+url);a=gn(u,a),e.push([o[1],u,a])}}),e},bn=0,kn=1,mn=2,xn={},wn=0,jn=function(n,e,t,r,o){var i=this;i.parent=n,i.main=n?n.main:i,i.id=e,i.gid=wn++,i.inType=t,i.outType=r,i.state=bn,i.pkg=o,i.dependencies=[],i.resolvedMap={},i.callbacks=[]};jn.prototype={constructor:jn,save:function(n,e,t){var u=this,a=function(n,e){var t;u.pkgURL?(u.pkg.dependencies=u.pkg.dependencies||{},u.pkg.devDependencies=u.pkg.devDependencies||{},u.pkg.peerDependencies=u.pkg.peerDependencies||{},t=u.pkg.dependencies[n]||u.pkg.devDependencies[n]?Q(u.pkgURL,r+"/"):Fn):t=Fn;var o=Z(t,n+"/package.json",!1);y(o,function(n){e(Z(o,n.main||i,!0),n,o)})};u.build(e,t),d(n,function(n,e){var t,r=e.name,i=e.inType,c=e.outType,s=z(r)||_(r),l=r;s?(l=u.resolve(r,i===o),t=Mn(u,l,i,c),u.dependencies[n]=t.id):a(r,function(e,o,a){t=Mn(u,e,i,c,o),t.pkgURL=a,u.resolvedMap[r]=e,u.dependencies[n]=t.id})}),u.exec()},build:function(n,e){var t=this;t.dependencies=n,t.state=kn,t.factory=e,t.expose=function(){if(t.state===mn)return t.exports;t.state=mn;var n=t.factory,e=t.factory;p(n)||(e=function(){return n});var r=e.call(a,t.require,t.exports,t);return void 0!==r&&(t.exports=r),t.exports},t.require=function(n,e){if(Sn)return xn[n].expose();var r=(e||o).split("|"),i=r[0];i=vn[i];var a=gn(i,r[1]),c=t.resolve(n,"js"===i)+u+a;return xn[c].expose()},t.require.resolve=t.resolve,t.require.async=function(n,e){n=f(n)?n:[n],e=p(e)?e:l;var r=n.length,i=[],u=function(n){i.push(n),r===i.length&&e.apply(a,i)};b(function(){d(n,function(n,e){Sn&&(e=e+"."+Rn.asyncMap[e]+"."+o);var r=Z(Rn.asyncDir,e);Tn(null,r,o,o,t.pkg,u)})})},t.exports={}},resolve:function(n,e){var t=this,r=t.resolvedMap[n];return r?r:Z(t.id,n,e)},exec:function(){for(var n=!0,e=function(t){d(t.dependencies,function(t,r){var o=xn[r];return!o||o.state<kn?(n=!1,!1):void e(o)})},t=this;t.parent;)t=t.parent;e(t),n&&(t.expose(),b(function(){d(t.callbacks,function(n,e){e(t.exports)})}))}};var Dn=function(n,e,t,r){var o=t.join('","');return o&&(o='"'+o+'"'),['define("'+e+'", ['+o+"], function(require, exports, module) {\n\n",r,"\n\n});","//# sourceURL="+n].join("\n")},En=null;a.define=function(n,e,t){if(!Sn)throw new SyntaxError("AMD 模式才允许调用 define，coolie.js@2.x 开发环境只支持 commonJS 规范");var r=xn[n];r||(n=ln.last.id,r=xn[n]);var o=xn[n]=r||new jn(null,n);return o.parent||(En=o),d(e,function(n,e){xn[e]=xn[e]||new jn(o,e)}),o.build(e,t),o.exec(),o};var Mn=function(n,e,t,r,o,i){var a=e+u+r,c=xn[a],s=xn[a]=c||new jn(n,a,t,r,o);!n&&i&&s.callbacks.push(i);var l=[],f=[],p=function(n,e,t){var r=arguments,o=r.length;switch(o){case 0:throw new SyntaxError("模块书写语法不正确\n"+n);case 3:s.state!==mn&&s.save(l,e,t);break;default:if(s.state===mn){var i=r[o-1](s.require,s.exports,s);void 0!==i&&(s.exports=i)}}},v=s.inType,y=s.outType;switch(v){case"js":h(e,function(n,t){if(n)throw new URIError("JS 资源加载失败\n"+e);var r=yn(t);d(r,function(n,e){var t=e[0],r=e[1],o=e[2];l.push({name:t,inType:r,outType:o}),f.push(t)});var o=Dn(e,a,f,t);return new Function("define",o)(p)});break;case"css":case"text":case"json":switch(y){case"url":case"base64":p(a,[],function(){return e});break;case"js":h(e,function(n,t){if(n)throw new URIError(v+" 资源加载失败\n"+e);p(a,[],function(){return g(t)})});break;case"style":h(e,function(n,t){if(n)throw new URIError(v+" 资源加载失败\n"+e);p(a,[],function(){return k(t)})});break;default:h(e,function(n,t){if(n)throw new URIError(v+" 资源加载失败\n"+e);p(a,[],function(){return t})})}break;case"file":p(a,[],function(){return e})}return s},Tn=function(n,e,t,r,o,i){var a=e+(Sn?"":u+r),c=xn[a];return c?c.state===mn?i(c.exports):c.callbacks.push(i):(xn[a]=new jn(n,a,t,r,o),void(Sn?ln.task(e,function(n){m(e,function(){En&&(En.callbacks.push(i),En=null),n()})}):Mn(n,e,t,r,o,i)))},Sn=!1,Rn={},Un=[],qn=null,An={},Ln=a.coolie={version:e,url:rn,configURL:cn,importStyle:k,dirname:on,configs:Rn,modules:xn,callbacks:Un,resolvePath:Q,config:function(n){return n=n||{},Rn.mode=n.mode||"CJS",Sn="AMD"===Rn.mode,Rn.baseDir=Cn=Q(on,n.baseDir||"./"),Rn.nodeModulesDir=Fn=Q(Cn,n.nodeModulesDir||"/"+r+"/"),Rn.chunkDir=Jn=Q(Cn,n.chunkDir||"../chunk/"),Rn.chunkMap=n.chunkMap||{},Rn.asyncDir=$n=Q(Cn,n.asyncDir||"../async/"),Rn.asyncMap=n.asyncMap||{},Rn.dirname=on,n.global=n.global||{},n.global.DEBUG=Rn.debug=Rn.debug!==!1,d(n.global,function(n,e){a[n]=e}),Ln},use:function(n,e){e=p(e)?e:l;var t=0,r=[],i=function(n){r.push(n),r.length==t&&(qn=qn||r,e.apply(a,r),d(Un,function(n,e){e.apply(a,r)}))};return!n&&an?(In=Q(Cn,an),Tn(null,In,o,o,null,i),t=1,Ln):n?(n=f(n)?n:[n],t=n.length,d(n,function(n,e){var t=Z(Cn,e,!0);b(function(){Tn(null,t,o,o,null,i)})}),Ln):Ln},callback:function(n){return p(n)?(qn?n.apply(a,qn):Un.push(n),Ln):Ln},chunk:function(n){return n=f(n)?n:[n],d(n,function(n,e){if(!An[e]){An[e]=!0;var t=e+"."+Rn.chunkMap[e]+"."+o,r=Q(Jn,t);m(r,l)}}),Ln}},In="",Cn=on,Jn=on,$n=on,Fn=Q(on,"/"+r+"/");cn&&m(cn,l)}();