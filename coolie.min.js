/*!
 * coolie 苦力
 * @author ydr.me
 * @version 0.7.2
 * @license MIT
 */
!function(){"use strict";var e,n="0.7.2",r=function(){return(new Date).getTime()},t=0,i=window,o=i.document,u={},c=[],a=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},s=function(e){return"array"===a(e)},f=function(e){return"function"===a(e)},l=function(e){return"string"===a(e)},d=function(e,n,r){var t,i;if(s(e))for(t=r?e.length-1:0,i=r?0:e.length;(r?t>i:i>t)&&n(t,e[t])!==!1;r?t--:t++);else if("object"==typeof e)for(t in e)if(n(t,e[t])===!1)break},p=function(){var e={},n=i.console,r=["log","warn","group","groupEnd"];return d(r,function(r,t){e[t]=function(){if(n&&n[t])try{n[t].apply(n,arguments)}catch(e){}}}),e}(),v=/\/[^/]+$/,h=function(e,n){return e=e.replace(b,""),"/"===e?e:v.test(e)?n?e+"/":e.replace(v,"/"):e},g=/^\//,_=/^(\.{1,2})\//,w=/\/[^/]+?\/$/,m=function(e,n){if(!n||g.test(n))return n;var r;for(n="./"+n;r=n.match(_);)n=n.replace(_,""),2===r[1].length&&(e=e.replace(w,"/"));return e+n},y=function(e,n){return(n||o).getElementsByTagName(e)},x=/[\?#].*?$/,b=/https?:\/\/[^/]*/,A=/\.js($|\?)/i,S=function(e,n){return e=e.replace(x,""),n?e:(w.test(e)&&(e+="index"),e+(A.test(e)?"":".js"))},q=function(e){return S(e.hasAttribute?e.src:e.getAttribute("src",4))},$=function(e,n){return e.getAttribute("data-"+n)},j=/loaded|complete/,E=o.head||y("head",o)[0],M=y("base",E)[0],T=null,C=[],k=/\.[^.]*$/,B=function(e){if(!u._v)return e;var n=l(u._v)?u._v:u._v[e];return n?e.replace(k,"."+n+"$&"):e},L=function(n,r){var t=B(n),u=o.createElement("script"),c=!1,a=function(e){if(!c){if(c=!0,e&&"error"===e.type)throw"load script error\n"+t;f(r)&&r(),E.removeChild(u),u=null}};C.push(u),u.src=t,u.id=n,u.async=!0,u.defer=!0,u.onload!==e?u.onload=u.onerror=a:u.onreadystatechange=function(e){j.test(u.readyState)&&(e=e||i.event,a(e))},T=u,M?E.insertBefore(u,M):E.appendChild(u),T=null},D=function(e){var n,r=B(e),t=new XMLHttpRequest,i=function(){if(4===t.readyState&&!n){if(n=!0,200!==t.status&&304!==t.status)throw"ajax error\n"+r;on({_isAn:Q._isAn,id:e,url:r,deps:[],factory:function(){return t.responseText}})}};t.onload=t.onreadystatechange=t.onerror=t.onabort=t.ontimeout=i,t.open("GET",r),t.send(null)},G=/interactive/,H=function(){if(T)return T;if(o.currentScript)return o.currentScript;var e=null,n=o.scripts||y("script",E);return d(n,function(n,r){return G.test(r.readyState)?(e=r,!1):void 0},!0),e?e:C.shift()},N=H(),O=q(N),R=O.match(b)[0],X=$(N,"config"),z=$(N,"main"),F=h(O),I=m(F,X),J=R+I,K={};K.version=n;var P=null,Q={},U=!1,V={},W={},Y=1,Z=0;K.config=function(e){u=e,P=m(F,h(u.base,!0)),u.version=u.version||{},u.host&&(R=u.host),l(u.version)?u._v=u.version:(u._v={},d(u.version,function(e,n){u._v[R+m(P,e)]=n}));var n=Q.url=S(R+m(P,z));return Q._defined=!1,V[n]=Q,K},K.use=function(){return U?void 0:(U=!0,t=r(),L(Q.url),p.group("coolie modules"),K)},K.callback=function(e){return f(e)&&c.push(e),K};var en=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,nn=/\\\\/g,rn=function(e){var n=[];return e.replace(nn,"").replace(en,function(e,r,t){t&&n.push(t)}),n},tn=/^(css|html|text)!/i,on=function(e){e.exports={},e._execute=function(){var n=function(n){var r=tn.test(n);n=n.replace(tn,"");var t=Q._isAn?R+S(m(e._path,n),r):n;if(!W[t])throw"can not found module \n"+t+"\nbut required in\n"+e.id;return W[t]._execute()};return function(){var r=e.id;return e._executed?W[r].exports:(e._executed=!0,W[r].exports=e.factory.call(window,n,e.exports,e)||e.exports,W[r].exports)}}();var n=e.id;W[n]=e,Z++,p.log((e._isMain?"main":"require")+" "+(e._isMain?e.url:n)),Z===Y&&(p.log("past "+(r()-t)+"ms"),p.groupEnd("coolie modules"),Q._execute(),d(c,function(e,n){n.call(K)}))},un=function(e,n,r){var t=arguments,i=!0,o=H(),u=o.id,c=q(o),a=h(u);f(t[2])?i=!1:f(t[1])?(e=null,n=[],r=t[1]):f(t[0])&&(r=t[0],n=rn(r.toString()),e=null),e=Q._defined&&Q._isAn?u:e||u;var s={_isAn:i,_path:a,id:e,url:c,deps:n,factory:r};Q.id||(i||(V[e]=V[Q.url]),s._isMain=!0,Q=s,Q._defined=!0);var l=[];d(n,function(r,t){var i=t;if(Q._isAn){var o=tn.test(t);t=t.replace(tn,"");var u=n[r]=m(a,t);i=S(R+u,o)}if(e===i)throw"required oneself: \n"+e;W[i]&&d(W[i].deps,function(n,r){if(r===e)throw"required circle: \n"+i+"\n"+e}),V[i]||(l.push(i),V[i]=!0,Y++,Q._isAn&&(o?D(i):L(i)))}),s.deps=l,on(s)};X&&L(J+"?"+r()),window.coolie=K,window.coolie.modules=W,window.coolie.configs=u,window.define=un,window.define.amd={},window.define.cmd={}}();