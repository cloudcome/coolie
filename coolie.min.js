/*!
 * coolie 苦力
 * @author ydr.me
 * @version 0.6.0
 * @license MIT
 */
!function(){"use strict";function e(e,r){var o,c,l,d={};2===arguments.length?(l=e,d._isAnonymous=!1,d._id=r,d._type="ajax",d._path=a(r),d._deps=[],d._factory=function(e,t,n){n.exports=l.responseText||"",l=null},t(d),Q[d._id]=d,K[d._id]={}):Y.length&&(c=e,o=Y.shift(),d._isAnonymous=""===o[0],d._id=o[0]||c.id,d._type=o[0]?"local":"script",c=null,d._path=d._isAnonymous?a(d._id):"",d._deps=o[1],d._factory=o[2],t(d),Q[d._id]=d,K[d._id]={},d._deps.length&&h(d._deps,function(e,t){var n=t.replace(D,""),r=d._isAnonymous?s(d._path,n):n;if(K[r]&&K[r][d._id])throw"module `"+d._id+"` and module `"+r+"` make up a circular dependency relationship";d._deps[e]=r,K[d._id][r]=1,Z.push({id:r,by:d._id}),K[r]||(K[r]={},D.test(t)?u(r):i(r))})),V===W&&!Y.length&&j&&Q[j]&&(h(Z,function(e,t){if(!K[t.id])throw"can not found module `"+t.id+"`, but module `"+t.by+"` dependence on it"}),n(j),K=null,Y=null,Z=null)}function t(e){e.exports={},e._exec=function(){var t=function(t){var n=e._isAnonymous?s(a(e._id),r(t)):t;if(!Q[n])throw"can not found module `"+n+"`, but required in `"+e._id+"`";return Q[n]._exec()};return function(){var n=e._id;return e._hasExport?Q[n].exports:(e._hasExport=!0,Q[n].exports=e._factory.call(window,t,e.exports,e)||e.exports,Q[n].exports)}}()}function n(e){if(!Q[e])throw"can not found module `"+e+"`";et.log("past "+(y()-A)+" ms"),et.groupEnd("coolie modules"),Q[e]._exec(),p(coolie.callback)&&coolie.callback(Q[e].exports)}function r(e){if(D.test(e))return e.replace(M,"").replace(D,"");if(e.indexOf("?")>-1)return e;var t=e.slice(-1);switch(t){case"#":return e.slice(0,-1);case"/":return e+"index.js";default:return G.test(e)?e:e+".js"}}function o(e,t,n){var r=document.createElement("script"),o=function(){U.removeChild(r),p(t)&&t.apply(this,arguments)};r.id=n,r.src=v(e),r.async=!0,r.defer=!0,U.appendChild(r),P?r.onload=o:r.onreadystatechange=function(){/loaded|complete/.test(r.readyState)&&o.call(this,arguments)},r.onerror=o}function i(t){t=r(t);var n=c(t),i=y(),u=g(t);return V++,n?void o(u,function(t){"error"===t.type?et.groupEnd("coolie modules"):(et.log("script module",u,y()-i+"ms"),W++,e(this))},t):setTimeout(function(){et.log("local module",u,y()-i+"ms"),W++,e()},1)}function u(t){V++;var n,r=new XMLHttpRequest,o=y(),i=function(){if(4===r.readyState&&!n){if(n=!0,200!==r.status&&304!==r.status)throw"can not ajax "+t+", response status is "+r.status;et.log("text module",t,y()-o+"ms"),W++,e(r,t)}};r.onload=r.onreadystatechange=r.onerror=r.onabort=r.ontimeout=i,r.open("GET",v(t)),r.send(null)}function a(e){return e.replace(T,"/")}function c(e){var t;return B.test(e)?(t=e.match(B),t[1]||"//"):(e.replace(D,"").match(q)||[""])[0]}function s(e,t){var n=(e.match(B)||[""])[0],r=c(e),o=c(t),i=0,u=e.replace(B,""),a=t;if(B.test(o))return R.test(t)?t:location.protocol+t;switch(r||(u="./"+u),"/"!==u.slice(-1)&&(u+="/"),o||(a="./"+a,o="./"),o){case"./":return n+u+a.slice(2);case"../":for(i=a.match(S).length;i-->0;){if(!C.test(u))throw"can not change path from `"+e+"` to `"+t+"`";u=u.replace(C,"")}return n+u+a.replace(S,"");default:return n+a}}function l(e){var t=[];return e.replace(O,"").replace(k,function(e,n,r){r&&t.push(r)}),t}function d(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function f(e){return"array"===d(e)}function p(e){return"function"===d(e)}function m(e){return"string"===d(e)}function h(e,t){var n,r;if(f(e))for(n=0,r=e.length;r>n&&t(n,e[n])!==!1;n++);else if("object"==typeof e)for(n in e)if(e.hasOwnProperty(n)&&t(n,e[n])===!1)break}function g(e){var t,n,r,o=d(J.version);switch(o){case"string":return e+(e.indexOf("?")>-1?"&":"?")+"_="+encodeURIComponent(J.version);case"object":return t=e.replace(J.base,""),r=(e.match(L)||[""])[0],n=J.version[t]||J.version["./"+t],n?e.replace(L,"").replace(N,"."+n+"$1")+r:e;default:return e}}function _(){var e=document.getElementsByTagName("script");return e[e.length-1]}function w(e){return e.hasAttribute?e.src:e.getAttribute("src",4)}function b(e,t){return e.getAttribute("data-"+t)}function y(){return(new Date).getTime()}function v(e,t){return J.cache&&!t?e:e+(e.indexOf("?")>-1?"&":"?")+"_="+y()}var x,E,j,A,$="0.6.0",k=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,O=/\\\\/g,S=/\.\.\//g,T=/\/([^\/]+)$/,q=/^.*?\//,C=/[^\/]+\/$/,L=/\?.*$/,M=/[?#].*$/,N=/(\.[^.]*)$/,R=/^https?:/i,B=/^(.*)\/\/[^/]*/,D=/^(css|html|text)!/i,G=/\.js$/i,H=!0,I=_(),P="onload"in I,U=I.parentNode,X=a(w(I)),z=b(I,"main"),F=b(I,"config"),J={},K={},Q={},V=0,W=0,Y=[],Z=[],et=function(){var e={},t=window.console,n=["log","warn","group","groupEnd"];return h(n,function(n,r){e[r]=function(){if(t&&t[r])try{t[r].apply(t,arguments)}catch(e){}}}),e}();window.define=function(e,t,n){var r=arguments,o=1===r.length;if(j||(H=o,o?j=x:(E=j=e,K={},K[E]={})),o)e="",t=[],n=r[0];else{if(!m(e))throw"module id must be a string";if(p(r[1])&&(n=r[1],t=[]),!f(t))throw"module defineModules must be an array"}if(!p(n))throw"module factory must be a function";H&&(e="",t=l(n.toString())),Y.push([e,t,n])},window.define.amd={},window.define.cmd={},window.coolie={version:$,modules:Q,callback:null,config:function(e){return e=e||{},J.base=e.base?s(X,e.base):X,J.version=e.version,J.cache=!!e.cache,this},use:function(e){if(x)throw new Error("can not  execute `coolie.use` twice more");if(!m(J.base))throw new Error("coolie config `base` property must be a string");if(e&&!m(e))throw new Error("main module must be a string");return z&&z!==e&&(e&&et.warn("attribute main is `"+z+"`, but use main is `"+e+"`"),e=z),x=s(J.base,e),A=y(),et.group("coolie modules"),i(x),this}},F&&o(v(s(X,F),!0))}();