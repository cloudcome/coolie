/*!
 * coolie 苦力
 * @author ydr.me
 * @version 0.7.1
 * @license MIT
 */
!function(){"use strict";var e="0.7.1",n=function(){return(new Date).getTime()},t=0,r=window,i=r.document,o={},u=[],c=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},a=function(e){return"array"===c(e)},s=function(e){return"function"===c(e)},f=function(e){return"string"===c(e)},l=function(e,n,t){var r,i;if(a(e))for(r=t?e.length-1:0,i=t?0:e.length;(t?r>i:i>r)&&n(r,e[r])!==!1;t?r--:r++);else if("object"==typeof e)for(r in e)if(n(r,e[r])===!1)break},d=function(){var e={},n=r.console,t=["log","warn","group","groupEnd"];return l(t,function(t,r){e[r]=function(){if(n&&n[r])try{n[r].apply(n,arguments)}catch(e){}}}),e}(),p=/\/[^/]+$/,v=function(e,n){return e=e.replace(x,""),"/"===e?e:p.test(e)?n?e+"/":e.replace(p,"/"):e},h=/^\//,g=/^(\.{1,2})\//,_=/\/[^/]+?\/$/,w=function(e,n){if(!n||h.test(n))return n;var t;for(n="./"+n;t=n.match(g);)n=n.replace(g,""),2===t[1].length&&(e=e.replace(_,"/"));return e+n},m=function(e,n){return(n||i).getElementsByTagName(e)},y=/[\?#].*?$/,x=/https?:\/\/[^/]*/,b=/\.js($|\?)/i,A=function(e,n){return e=e.replace(y,""),n?e:(_.test(e)&&(e+="index"),e+(b.test(e)?"":".js"))},S=function(e){return A(e.hasAttribute?e.src:e.getAttribute("src",4))},q=function(e,n){return e.getAttribute("data-"+n)},$=/loaded|complete/,j=i.head||m("head",i)[0],E=m("base",j)[0],M=null,T=[],k=/\.[^.]*$/,B=function(e){if(!o._v)return e;var n=f(o._v)?o._v:o._v[e];return n?e.replace(k,"."+n+"$&"):e},C=function(e,n){var t=B(e),o=i.createElement("script"),u=!1,c=function(e){if(!u){if(u=!0,e&&"error"===e.type)throw"load script error\n"+t;s(n)&&n()}};T.push(o),o.src=t,o.id=e,o.async=!0,o.defer=!0,N?o.onload=o.onerror=c:o.onreadystatechange=function(e){$.test(o.readyState)&&(e=e||r.event,c(e))},M=o,E?j.insertBefore(o,E):j.appendChild(o),M=null},L=function(e){var n,t=B(e),r=new XMLHttpRequest,i=function(){if(4===r.readyState&&!n){if(n=!0,200!==r.status&&304!==r.status)throw"ajax error\n"+t;on({_isAn:Q._isAn,id:e,url:t,deps:[],factory:function(){return r.responseText}})}};r.onload=r.onreadystatechange=r.onerror=r.onabort=r.ontimeout=i,r.open("GET",t),r.send(null)},D=/interactive/,G=function(){if(M)return M;if(i.currentScript)return i.currentScript;var e=null,n=i.scripts||m("script",j);return l(n,function(n,t){return D.test(t.readyState)?(e=t,!1):void 0},!0),e?e:T.shift()},H=G(),N="onload"in H,O=S(H),R=O.match(x)[0],X=q(H,"config"),z=q(H,"main"),F=v(O),I=w(F,X),J=R+I,K={};K.version=e;var P=null,Q={},U=!1,V={},W={},Y=1,Z=0;K.config=function(e){o=e,P=w(F,v(o.base,!0)),o.version=o.version||{},o.host&&(R=o.host),f(o.version)?o._v=o.version:(o._v={},l(o.version,function(e,n){o._v[R+w(P,e)]=n}));var n=Q.url=A(R+w(P,z));return Q._defined=!1,V[n]=Q,K},K.use=function(){return U?void 0:(U=!0,t=n(),C(Q.url),d.group("coolie modules"),K)},K.callback=function(e){return s(e)&&u.push(e),K};var en=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,nn=/\\\\/g,tn=function(e){var n=[];return e.replace(nn,"").replace(en,function(e,t,r){r&&n.push(r)}),n},rn=/^(css|html|text)!/i,on=function(e){e.exports={},e._execute=function(){var n=function(n){var t=rn.test(n);n=n.replace(rn,"");var r=Q._isAn?R+A(w(e._path,n),t):n;if(!W[r])throw"can not found module \n"+r+"\nbut required in\n"+e.id;return W[r]._execute()};return function(){var t=e.id;return e._executed?W[t].exports:(e._executed=!0,W[t].exports=e.factory.call(window,n,e.exports,e)||e.exports,W[t].exports)}}();var r=e.id;W[r]=e,Z++,d.log((e._isMain?"main":"require")+" "+(e._isMain?e.url:r)),Z===Y&&(d.log("past "+(n()-t)+"ms"),d.groupEnd("coolie modules"),Q._execute(),l(u,function(e,n){n.call(K)}))},un=function(e,n,t){var r=arguments,i=!0,o=G(),u=o.id,c=S(o),a=v(u);s(r[2])?i=!1:s(r[1])?(e=null,n=[],t=r[1]):s(r[0])&&(t=r[0],n=tn(t.toString()),e=null),e=Q._defined&&Q._isAn?u:e||u;var f={_isAn:i,_path:a,id:e,url:c,deps:n,factory:t};Q.id||(i||(V[e]=V[Q.url]),f._isMain=!0,Q=f,Q._defined=!0);var d=[];l(n,function(t,r){var i=r;if(Q._isAn){var o=rn.test(r);r=r.replace(rn,"");var u=n[t]=w(a,r);i=A(R+u,o)}if(e===i)throw"required oneself: \n"+e;W[i]&&l(W[i].deps,function(n,t){if(t===e)throw"required circle: \n"+i+"\n"+e}),V[i]||(d.push(i),V[i]=!0,Y++,Q._isAn&&(o?L(i):C(i)))}),f.deps=d,on(f)};X&&C(J+"?"+n()),window.coolie=K,window.coolie.modules=W,window.coolie.configs=o,window.define=un,window.define.amd={},window.define.cmd={}}();